import shap
from sklearn.ensemble import RandomForestClassifier
from sklearn.datasets import load_breast_cancer

# Загрузка данных
data = load_breast_cancer()
X, y = data.data, data.target
feature_names = data.feature_names

# Обучение модели
model = RandomForestClassifier()
model.fit(X, y)

# Инициализация SHAP
explainer = shap.TreeExplainer(model)  # Для деревьев
shap_values = explainer.shap_values(X)

# Визуализация
shap.summary_plot(shap_values, X, feature_names=feature_names)
